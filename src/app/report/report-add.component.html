<form (ngSubmit)="onSubmit(reportForm)" #reportForm="ngForm">


  <div class="form-group row">
    <label for="company" class="col-sm-2 col-form-label">Firma</label>
    <div class="col-sm-10">
      <ng2-completer name="fa" (selected)="setAutocomplateId($event, 'companyId')"
                     [dataService]="companyData" [minSearchLength]="0" id="company"
                     placeholder="Firma" required>
      </ng2-completer>
    </div>
  </div>
  <div class="form-group row">
    <label for="customerId" class="col-sm-2 col-form-label">Osoba</label>
    <div class="col-sm-10">
      <ng2-completer placeholder="Osoba" name="customerId"
                     (selected)="setAutocomplateId($event, 'customerId')"
                     [dataService]="personData" [minSearchLength]="3" id="customerId" required>
      </ng2-completer>
      <!--<div *ngIf=" someNumber.valid " class="col-md-6 alert alert-danger">-->
        <!--Položka požadována-->
      <!--</div>-->
    </div>
  </div>
  <div class="form-group row">
    <label for="input4" class="col-sm-2 col-form-label">Systém</label>
    <div class="col-sm-10">
      <ng2-completer placeholder="Systém" name="systemId"
                     (selected)="setAutocomplateId($event, 'systemId')"
                     [dataService]="systemsData" [minSearchLength]="0" id="input4" required>
      </ng2-completer>
    </div>

  </div>
  <div class="form-group row">
    <label for="reportType" class="col-sm-2 col-form-label">Druh hlášení</label>
    <div class="col-sm-2">
      <div ngbDropdown class="d-inline-block">
        <button id="reportType" type="button" class="btn btn-outline-primary" id="dropdownMenu1" ngbDropdownToggle>
          {{report.reportType ?report.reportType : 'Druh hlášení'}}
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
          <button type="button" class="dropdown-item"
                  *ngFor="let type of reportTypes" (click)="setReportType(type);">{{type}}
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label for="name" class="col-sm-2 col-form-label">Název hlašení</label>
    <div class="col-sm-10">
      <input name="name" [(ngModel)]="report.name"
             type="text" class="form-control" id="name"
             placeholder="Název hlášení">
    </div>
  </div>
  <div class="form-group row">
    <label for="textarea" class="col-sm-2 col-form-label">Text hlášení</label>
    <div class="col-sm-10">
    <textarea name="reportText" [(ngModel)]="report.reportText"
              class="form-control" id="textarea" rows="4" required>

    </textarea>
    </div>
  </div>
  <div class="form-group row">
    <label for="garant" class="col-sm-2 col-form-label">Garant hlášení</label>
    <div class="col-sm-10">
      <input name="garant" [(ngModel)]="report.garantUserCode"
             type="text" class="form-control" id="garant" placeholder="Garant hlášení" required>
    </div>
  </div>
  <div class="form-group row">
    <label for="solvingUserCode" class="col-sm-2 col-form-label">Řešitel</label>
    <div class="col-sm-10">
      <input name="solvingUserCode" type="text" [(ngModel)]="report.solvingUserCode" class="form-control"
             id="solvingUserCode"
             placeholder="Řešitel" required>
    </div>
  </div>

  <div class="form-group row">
    <div class="offset-sm-2 col-sm-10">
      <button [disabled]="loading" type="submit" class="btn btn-primary">Založit hlášení</button>
    </div>
  </div>
</form>
<pre>{{report | json}}</pre>
